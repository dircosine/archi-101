(this["webpackJsonparchitecture-101"]=this["webpackJsonparchitecture-101"]||[]).push([[0],{27:function(e,t,n){},28:function(e,t,n){},29:function(e,t,n){},30:function(e,t,n){},36:function(e,t,n){},37:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n(0),c=n.n(a),s=n(20),o=n.n(s),i=(n(27),n(11)),u=n(2),l=(n(28),n(29),[4,-4,1,-7,8,3,-2]);var d=function(e){return Object(a.useEffect)((function(){for(var e=document.getElementsByClassName("poster"),t=0;t<e.length;t++){var n=e.item(t);null===n||void 0===n||n.setAttribute("style","transform: rotate(".concat(l[t],"deg)"))}}),[]),Object(r.jsxs)("section",{className:"Poster",children:[Object(r.jsx)("div",{className:"poster",children:Object(r.jsx)("img",{src:"https://archi101.s3.ap-northeast-2.amazonaws.com/archi101-poster-0.jpg",alt:"poster"})}),Object(r.jsx)("div",{className:"poster",children:Object(r.jsx)("img",{src:"https://archi101.s3.ap-northeast-2.amazonaws.com/archi101-poster-1.jpg",alt:"poster"})}),Object(r.jsx)("div",{className:"poster",children:Object(r.jsx)("img",{src:"https://archi101.s3.ap-northeast-2.amazonaws.com/archi101-poster-2.jpg",alt:"poster"})}),Object(r.jsx)("div",{className:"poster",children:Object(r.jsx)("img",{src:"https://archi101.s3.ap-northeast-2.amazonaws.com/archi101-poster-3.jpg",alt:"poster"})})]})},m=n(4);n(30);var j=function(){var e=Object(a.useState)(!1),t=Object(m.a)(e,2),n=t[0],c=t[1],s=Object(a.useRef)(null);return Object(a.useEffect)((function(){var e;s&&(null===(e=s.current)||void 0===e||e.addEventListener("ended",(function(e){c(!0)})))}),[s]),Object(r.jsxs)("section",{className:"Video",children:[Object(r.jsx)("p",{className:"announce",children:"\uc544\uc8fc \uc7a0\uae50\ub9cc \ub2e4\uc2dc \ubcfc\uae4c\uc694? \ud83c\udfa7"}),Object(r.jsxs)("div",{className:"video",children:[Object(r.jsx)("video",{ref:s,controls:!0,width:"100%",children:Object(r.jsx)("source",{src:"https://archi101.s3.ap-northeast-2.amazonaws.com/ch1-540.mp4",type:"video/mp4"})}),n&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:"quote",children:Object(r.jsxs)("p",{children:["\uc6b0\ub9ac\ub294 \uc5ec\uae30\uc11c \ubc25\uba39\uace0 \uc220\uba39\uace0 \ud559\uad50\uac00\uace0 \ub2f9\uad6c\uc7a5\uac00\uace0, \ubb50 \ubaa8\ub4e0 \uc0dd\ud65c\uc744 \ub2e4 \ud569\ub2c8\ub2e4.",Object(r.jsx)("br",{}),Object(r.jsx)("br",{}),"\uadf8\ub7f0\ub370 \uacfc\uc5f0 \uc6b0\ub9ac\ub294 \uc774 \ub3c4\uc2dc\uc5d0 \ub300\ud574\uc11c \uc798 \uc54c\uace0\uc788\uc744\uae4c?",Object(r.jsx)("br",{}),Object(r.jsx)("br",{}),"\uc758\uc678\ub85c \ub113\uac70\ub4e0 \uc5ec\uae30\uac00."]})}),Object(r.jsx)(i.b,{to:"/path",children:"\uc790 \ud55c\uba85\uc529 \ub098\uc640\uc11c \uac01\uc790 \uc624\ub294\uae38\uc744 \ud45c\uc2dc\ud574\ubd10, \uc774\ub807\uac8c."})]})]})]})};var f=function(){return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("section",{className:"Title",children:[Object(r.jsx)("img",{src:"title-ko.png",alt:"title - architecture 101"}),Object(r.jsx)("p",{children:"\ubd24\uc5b4\uc694..?"})]}),Object(r.jsx)(d,{}),Object(r.jsx)(j,{})]})},p=n(18),b=n(17),h=n(39);var g=function(e){var t=e.map,n=e.mapElemId,c=e.phase,s=e.mapEvent,o=e.center,i=Object(a.useRef)(null),u=Object(a.useRef)(null),l=Object(a.useRef)(0),d=Object(a.useRef)(0),m=Object(a.useContext)(C);Object(a.useEffect)((function(){i.current&&t&&!u.current&&j(),t&&"draw"===c&&setTimeout((function(){return f()}),1e3)}),[c,t]),Object(a.useEffect)((function(){var e;t&&(null===(e=u.current)||void 0===e||e.clearRect(0,0,l.current,d.current),console.log("ue1"),p())}),[t,o]),Object(a.useEffect)((function(){var e;"dragStart"!==s&&"zoomStart"!==s||(console.log("clear"),null===(e=u.current)||void 0===e||e.clearRect(0,0,l.current,d.current))}),[s]);var j=function(){if(!i.current)return null;i.current.className="canvas";var e=document.getElementById(n);if(u.current=i.current.getContext("2d"),!u.current||!e)return null;var r=window.devicePixelRatio>1?2:1;l.current=e.clientWidth,d.current=e.clientHeight,i.current.width=l.current*r,i.current.height=d.current*r,u.current.scale(r,r),t.relayout()},f=function(){var e=document.getElementById(n);if(i.current&&e){var r=t.getProjection(),a=t.getCenter(),c=r.containerPointFromCoords(a),s=r.pointFromCoords(a),o=0,j=s.x-c.x,f=s.y-c.y;m.my.push(t.getCenter());var b=!1;i.current.addEventListener("pointerdown",(function(e){if(b=!0,u.current){u.current.save(),u.current.beginPath(),u.current.lineWidth=5,u.current.strokeStyle="rgba(255,1,2,1)",u.current.lineCap="round";var t=m.my[m.my.length-1],n=r.containerPointFromCoords(t);u.current.moveTo(n.x,n.y)}else b=!1})),i.current.addEventListener("pointermove",(function(e){if(b&&u.current)if(o+=1,e.offsetX<40||e.offsetY<40||e.offsetX>l.current-40||e.offsetY>d.current-40){b=!1;var n=new kakao.maps.Point(e.offsetX+j,e.offsetY+f);t.setCenter(r.coordsFromPoint(n)),j+=e.offsetX-l.current/2,f+=e.offsetY-d.current/2,u.current.clearRect(0,0,l.current,d.current),u.current.save(),u.current.beginPath();for(var a=0;a<m.my.length;a++){var c=r.pointFromCoords(m.my[a]);u.current.lineTo(c.x-j,c.y-f)}u.current.stroke(),u.current.restore(),p()}else if(o>=5){o=0;var s=new kakao.maps.Point(e.offsetX+j,e.offsetY+f),i=r.coordsFromPoint(s),h=r.containerPointFromCoords(i);u.current.lineTo(h.x,h.y),u.current.stroke(),m.my.push(i)}})),i.current.addEventListener("pointerup",(function(e){var t;b=!1,null===(t=u.current)||void 0===t||t.restore()}))}},p=function(){if(u.current){console.log("draw others!");var e=t.getProjection();u.current.save(),u.current.lineWidth=4,u.current.strokeStyle="rgba(255,1,2,0.6)",u.current.lineCap="round",u.current.beginPath();for(var n=0;n<m.others.length;n++)for(var r=m.others[n],a=0;a<(null===(c=r.coords)||void 0===c?void 0:c.length);a++){var c,s=e.containerPointFromCoords(new kakao.maps.LatLng(r.coords[a].Ma,r.coords[a].La));u.current.lineTo(s.x,s.y)}u.current.stroke(),u.current.restore()}};return Object(r.jsx)("canvas",{ref:i,className:"canvas",style:{pointerEvents:"draw"===c?"inherit":"none"}})},v=(n(36),new kakao.maps.MarkerImage("https://t1.daumcdn.net/localimg/localimages/07/mapapidoc/red_b.png",new kakao.maps.Size(50,45),{offset:new kakao.maps.Point(15,43)})),O=new kakao.maps.MarkerImage("https://t1.daumcdn.net/localimg/localimages/07/mapapidoc/red_drag.png",new kakao.maps.Size(50,64),{offset:new kakao.maps.Point(15,54)}),k=new kakao.maps.MarkerImage("https://t1.daumcdn.net/localimg/localimages/07/mapapidoc/blue_b.png",new kakao.maps.Size(50,45),{offset:new kakao.maps.Point(15,43)}),x=new kakao.maps.MarkerImage("https://t1.daumcdn.net/localimg/localimages/07/mapapidoc/blue_drag.png",new kakao.maps.Size(50,64),{offset:new kakao.maps.Point(15,54)});var w=function(e){var t=e.phase,n=e.starting,c=e.destination,s=e.bounds,o=e.setStarting,i=e.setDestination,u=e.setPhase,l=Object(a.useState)(null),d=Object(m.a)(l,2),j=d[0],f=d[1],p=Object(a.useState)("none"),b=Object(m.a)(p,2),h=b[0],w=b[1],y=Object(a.useState)(new kakao.maps.LatLng(37.4918782,127.0324566)),S=Object(m.a)(y,2),C=S[0],P=S[1],E=Object(a.useRef)(null),L=Object(a.useRef)(null),I=Object(a.useRef)(null),N=Object(a.useRef)("searchStarting"),B=Object(a.useRef)(null);Object(a.useEffect)((function(){var e=document.getElementById("mapCanvasWrap");null===e||void 0===e||e.addEventListener("touchmove",(function(e){return e.preventDefault()}),{passive:!1})}),[]),Object(a.useEffect)((function(){E.current&&(R(),P(C))}),[E]),Object(a.useEffect)((function(){var e,r,a=document.createElement("div");(a.innerHTML='<div class="overlayContent"><button id="confirmButton">\uc5ec\uae30!</button></div>',n&&"confirmStarting"===t)&&(j.relayout(),j.setCenter(n),N.current!==t&&(j.setLevel(4),L.current=new kakao.maps.Marker({map:j,position:n,draggable:!0,image:v}),kakao.maps.event.addListener(L.current,"dragstart",(function(){L.current.setImage(O),B.current&&B.current.setMap(null)})),kakao.maps.event.addListener(L.current,"dragend",(function(){L.current.setImage(v),o(L.current.getPosition())})),N.current="confirmStarting"),P(n),L.current.setPosition(n),B.current=new kakao.maps.CustomOverlay({map:j,position:n,content:a,yAnchor:1}),null===(e=document.getElementById("confirmButton"))||void 0===e||e.addEventListener("click",(function(){return z("starting",B)})));c&&"confirmDestination"===t&&(j.relayout(),j.setCenter(c),N.current!==t&&(j.setLevel(4),I.current=new kakao.maps.Marker({map:j,position:c,draggable:!0,image:k}),kakao.maps.event.addListener(I.current,"dragstart",(function(){I.current.setImage(x),B.current&&B.current.setMap(null)})),kakao.maps.event.addListener(I.current,"dragend",(function(){I.current.setImage(k),i(I.current.getPosition())})),N.current="confirmDestination"),P(c),I.current.setPosition(c),B.current=new kakao.maps.CustomOverlay({map:j,position:c,content:a,yAnchor:1}),null===(r=document.getElementById("confirmButton"))||void 0===r||r.addEventListener("click",(function(){return z("destination",B)})))}),[n,c,t]),Object(a.useEffect)((function(){s&&(j.setBounds(s),P(j.getCenter()))}),[s]),Object(a.useEffect)((function(){j&&"draw"===t&&n&&(j.setCenter(n),j.setLevel(4),P(n))}),[j,t]);var R=function(){var e=new kakao.maps.Map(E.current,{center:C,level:9});kakao.maps.event.addListener(e,"dragstart",(function(){console.log(e.getCenter()),w("dragStart")})),kakao.maps.event.addListener(e,"dragend",(function(){w("dragEnd"),P(e.getCenter())})),kakao.maps.event.addListener(e,"zoom_start",(function(){w("zoomStart")})),kakao.maps.event.addListener(e,"zoom_changed",(function(){w("zoomChanged"),P(e.getCenter())})),f(e)},z=function(e,t){t.current&&t.current.setMap(null),"starting"===e&&u("searchDestination"),"destination"===e&&u("confirmBoth")};return["confirmStarting","confirmDestination","confirmBoth","draw","viewPath"].includes(t),Object(r.jsxs)("div",{className:"PathDraw",id:"mapCanvasWrap",style:{width:"97%"},children:[Object(r.jsx)("div",{ref:E,className:"map",id:"map"}),Object(r.jsx)(g,{map:j,mapElemId:"map",phase:t,mapEvent:h,center:C})]})},y=function(e){var t=Object(a.useState)(e),n=Object(m.a)(t,2),r=n[0],c=n[1];return{value:r,onChange:function(e){c(e.target.value)}}},S=new kakao.maps.services.Geocoder,C=Object(a.createContext)({others:[],my:[]}),P=[],E=JSON.parse(window.localStorage.getItem("paths")||"[]");var L=function(){var e=Object(a.useState)("searchStarting"),t=Object(m.a)(e,2),n=t[0],c=t[1],s=y(""),o=y(""),i=Object(a.useState)(null),u=Object(m.a)(i,2),l=u[0],d=u[1],j=Object(a.useState)(null),f=Object(m.a)(j,2),g=f[0],v=f[1],O=Object(a.useState)(null),k=Object(m.a)(O,2),x=k[0],L=k[1],I=Object(a.useRef)(null),N=Object(a.useRef)(null);return Object(a.useEffect)((function(){if(l&&g&&"confirmBoth"===n){var e=new kakao.maps.LatLngBounds;e.extend(l),e.extend(g),L(e)}}),[l,g,n]),Object(a.useEffect)((function(){var e,t;"searchStarting"===n&&(null===(e=I.current)||void 0===e||e.focus());"searchDestination"===n&&(null===(t=N.current)||void 0===t||t.focus())}),[n]),Object(r.jsxs)("div",{className:"PathPage",children:[Object(r.jsx)(C.Provider,{value:{others:E,my:P},children:Object(r.jsx)(w,{phase:n,starting:l,destination:g,bounds:x,setStarting:d,setDestination:v,setPhase:c})}),"searchStarting"===n&&Object(r.jsxs)("div",{className:"searchWrap",children:[Object(r.jsx)("p",{children:"\uc5b4\ub514\uc11c \ucd9c\ubc1c\ud574\uc694?"}),Object(r.jsx)("input",Object(p.a)({type:"text",ref:I},s)),Object(r.jsx)("button",{onClick:function(){S.addressSearch(s.value,(function(e,t){if(t===kakao.maps.services.Status.OK){var n=new kakao.maps.LatLng(e[0].y,e[0].x);console.log(n),d(n),c("confirmStarting")}}))},children:"\uac80\uc0c9"})]}),"searchDestination"===n&&Object(r.jsxs)("div",{className:"searchWrap",children:[Object(r.jsx)("p",{children:"\uc5b4\ub514\uae4c\uc9c0 \uac00\uc694?"}),Object(r.jsx)("input",Object(p.a)({type:"text",ref:N},o)),Object(r.jsx)("button",{onClick:function(){S.addressSearch(o.value,(function(e,t){if(t===kakao.maps.services.Status.OK){var n=new kakao.maps.LatLng(e[0].y,e[0].x);console.log(n),v(n),c("confirmDestination")}}))},children:"\uac80\uc0c9"})]}),"confirmBoth"===n&&Object(r.jsx)("button",{onClick:function(){c("draw")},children:"\ud655\uc778"}),"draw"===n&&Object(r.jsx)("button",{onClick:function(){var e=Object(h.a)(),t={id:e,coords:P,starting:l,destination:g};window.localStorage.setItem("paths",JSON.stringify([].concat(Object(b.a)(E),[t])));var n=JSON.parse(window.localStorage.getItem("myPathIds")||"[]");window.localStorage.setItem("myPathIds",JSON.stringify([].concat(Object(b.a)(n),[e])))},children:"\uc5c5\ub85c\ub4dc"})]})};var I=function(){return Object(r.jsx)("div",{className:"App",children:Object(r.jsx)("div",{className:"wrap",children:Object(r.jsxs)(i.a,{basename:"/architecture-101",children:[Object(r.jsx)("header",{style:{zIndex:9999},children:Object(r.jsx)(i.b,{to:"/",children:Object(r.jsx)("img",{src:"logo.png",height:"40px",alt:"logo"})})}),Object(r.jsxs)(u.d,{children:[Object(r.jsx)(u.b,{exact:!0,path:"/",component:f}),Object(r.jsx)(u.b,{path:"/path",component:L}),Object(r.jsx)(u.a,{path:"*",to:"/"})]})]})})})},N=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,40)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),r(e),a(e),c(e),s(e)}))};o.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(I,{})}),document.getElementById("root")),N()}},[[37,1,2]]]);
//# sourceMappingURL=main.98523e58.chunk.js.map